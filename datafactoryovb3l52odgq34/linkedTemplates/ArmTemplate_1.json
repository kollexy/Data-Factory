{
	"$schema": "http://schema.management.azure.com/schemas/2015-01-01/deploymentTemplate.json#",
	"contentVersion": "1.0.0.0",
	"parameters": {
		"factoryName": {
			"type": "string",
			"metadata": "Data Factory name",
			"defaultValue": "datafactoryovb3l52odgq34"
		},
		"AzureFunction6_functionKey": {
			"type": "secureString",
			"metadata": "Secure string for 'functionKey' of 'AzureFunction6'"
		},
		"AzureFunction7_functionKey": {
			"type": "secureString",
			"metadata": "Secure string for 'functionKey' of 'AzureFunction7'"
		},
		"AzureFunction8_functionKey": {
			"type": "secureString",
			"metadata": "Secure string for 'functionKey' of 'AzureFunction8'"
		},
		"AzureFunction9_functionKey": {
			"type": "secureString",
			"metadata": "Secure string for 'functionKey' of 'AzureFunction9'"
		},
		"Cen_Content_Download_functionKey": {
			"type": "secureString",
			"metadata": "Secure string for 'functionKey' of 'Cen_Content_Download'"
		},
		"Cen_ProjectsData_accountKey": {
			"type": "secureString",
			"metadata": "Secure string for 'accountKey' of 'Cen_ProjectsData'"
		},
		"CenelecPublicationData_accountKey": {
			"type": "secureString",
			"metadata": "Secure string for 'accountKey' of 'CenelecPublicationData'"
		},
		"Cenelec_Projects_Data_accountKey": {
			"type": "secureString",
			"metadata": "Secure string for 'accountKey' of 'Cenelec_Projects_Data'"
		},
		"SourcePathofDataLakeForZip_accountKey": {
			"type": "secureString",
			"metadata": "Secure string for 'accountKey' of 'SourcePathofDataLakeForZip'"
		},
		"ZipContentFiles_functionKey": {
			"type": "secureString",
			"metadata": "Secure string for 'functionKey' of 'ZipContentFiles'"
		},
		"ZipFiles_functionKey": {
			"type": "secureString",
			"metadata": "Secure string for 'functionKey' of 'ZipFiles'"
		},
		"cenelec_content_download_functionKey": {
			"type": "secureString",
			"metadata": "Secure string for 'functionKey' of 'cenelec_content_download'"
		},
		"AzureFunction6_properties_typeProperties_functionAppUrl": {
			"type": "string",
			"defaultValue": "https://bsi-uks-funcapp-fmapp02.azurewebsites.net"
		},
		"AzureFunction7_properties_typeProperties_functionAppUrl": {
			"type": "string",
			"defaultValue": "https://bsi-uks-funcapp-fmapp01.azurewebsites.net"
		},
		"AzureFunction8_properties_typeProperties_functionAppUrl": {
			"type": "string",
			"defaultValue": "https://bsi-uks-funcapp-fmapp01.azurewebsites.net"
		},
		"AzureFunction9_properties_typeProperties_functionAppUrl": {
			"type": "string",
			"defaultValue": "https://bsi-uks-funcapp-fmapp01.azurewebsites.net"
		},
		"Cen_Content_Download_properties_typeProperties_functionAppUrl": {
			"type": "string",
			"defaultValue": "https://bsi-uks-funcapp-fmapp01.azurewebsites.net"
		},
		"Cen_ProjectsData_properties_typeProperties_url": {
			"type": "string",
			"defaultValue": "https://bsiuksadlgen2dev.dfs.core.windows.net"
		},
		"CenelecPublicationData_properties_typeProperties_url": {
			"type": "string",
			"defaultValue": "https://bsiuksadlgen2dev.dfs.core.windows.net"
		},
		"Cenelec_Projects_Data_properties_typeProperties_url": {
			"type": "string",
			"defaultValue": "https://bsiuksadlgen2dev.dfs.core.windows.net"
		},
		"HttpServer1_properties_typeProperties_url": {
			"type": "string",
			"defaultValue": "https://api.iso.org/harmonized/projects"
		},
		"HttpServer2_properties_typeProperties_url": {
			"type": "string",
			"defaultValue": "https://api-test.iso.org/harmonized/projects"
		},
		"ISO_Publication_RestEndPoint_properties_typeProperties_url": {
			"type": "string",
			"defaultValue": "https://api.iso.org/harmonized/publications"
		},
		"Iso_properties_typeProperties_url": {
			"type": "string",
			"defaultValue": "https://api.iso.org/harmonized/projects"
		},
		"PublicationDataLink_properties_typeProperties_url": {
			"type": "string",
			"defaultValue": "https://api.iso.org/harmonized/publications"
		},
		"RestService1_properties_typeProperties_url": {
			"type": "string",
			"defaultValue": "https://api.cen.eu/harmonized/publications"
		},
		"SourcePathofDataLakeForZip_properties_typeProperties_url": {
			"type": "string",
			"defaultValue": "https://bsiuksadlgen2dev.dfs.core.windows.net"
		},
		"TestingRest_properties_typeProperties_url": {
			"type": "string",
			"defaultValue": "http://dummy.restapiexample.com/api/v1/employees"
		},
		"ZipContentFiles_properties_typeProperties_functionAppUrl": {
			"type": "string",
			"defaultValue": "https://bsi-uks-funcapp-fmapp01.azurewebsites.net"
		},
		"ZipFiles_properties_typeProperties_functionAppUrl": {
			"type": "string",
			"defaultValue": "https://bsi-uks-funcapp-fmapp01.azurewebsites.net"
		},
		"cenelec_content_download_properties_typeProperties_functionAppUrl": {
			"type": "string",
			"defaultValue": "https://bsi-uks-funcapp-fmapp01.azurewebsites.net"
		},
		"downloadPdf_properties_typeProperties_url": {
			"type": "string",
			"defaultValue": "https://data.iso.org/publications/std/dms/89739122"
		}
	},
	"variables": {
		"factoryId": "[concat('Microsoft.DataFactory/factories/', parameters('factoryName'))]"
	},
	"resources": [
		{
			"name": "[concat(parameters('factoryName'), '/AzureFunction6')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureFunction",
				"typeProperties": {
					"functionAppUrl": "[parameters('AzureFunction6_properties_typeProperties_functionAppUrl')]",
					"functionKey": {
						"type": "SecureString",
						"value": "[parameters('AzureFunction6_functionKey')]"
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/AzureFunction7')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureFunction",
				"typeProperties": {
					"functionAppUrl": "[parameters('AzureFunction7_properties_typeProperties_functionAppUrl')]",
					"functionKey": {
						"type": "SecureString",
						"value": "[parameters('AzureFunction7_functionKey')]"
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/AzureFunction8')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureFunction",
				"typeProperties": {
					"functionAppUrl": "[parameters('AzureFunction8_properties_typeProperties_functionAppUrl')]",
					"functionKey": {
						"type": "SecureString",
						"value": "[parameters('AzureFunction8_functionKey')]"
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/AzureFunction9')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureFunction",
				"typeProperties": {
					"functionAppUrl": "[parameters('AzureFunction9_properties_typeProperties_functionAppUrl')]",
					"functionKey": {
						"type": "SecureString",
						"value": "[parameters('AzureFunction9_functionKey')]"
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/Cen_Content_Download')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureFunction",
				"typeProperties": {
					"functionAppUrl": "[parameters('Cen_Content_Download_properties_typeProperties_functionAppUrl')]",
					"functionKey": {
						"type": "SecureString",
						"value": "[parameters('Cen_Content_Download_functionKey')]"
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/Cen_ProjectsData')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureBlobFS",
				"typeProperties": {
					"url": "[parameters('Cen_ProjectsData_properties_typeProperties_url')]",
					"accountKey": {
						"type": "SecureString",
						"value": "[parameters('Cen_ProjectsData_accountKey')]"
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/CenelecPublicationData')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureBlobFS",
				"typeProperties": {
					"url": "[parameters('CenelecPublicationData_properties_typeProperties_url')]",
					"accountKey": {
						"type": "SecureString",
						"value": "[parameters('CenelecPublicationData_accountKey')]"
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/Cenelec_Projects_Data')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureBlobFS",
				"typeProperties": {
					"url": "[parameters('Cenelec_Projects_Data_properties_typeProperties_url')]",
					"accountKey": {
						"type": "SecureString",
						"value": "[parameters('Cenelec_Projects_Data_accountKey')]"
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/HttpServer1')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "HttpServer",
				"typeProperties": {
					"url": "[parameters('HttpServer1_properties_typeProperties_url')]",
					"enableServerCertificateValidation": true,
					"authenticationType": "Anonymous"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/HttpServer2')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "HttpServer",
				"typeProperties": {
					"url": "[parameters('HttpServer2_properties_typeProperties_url')]",
					"enableServerCertificateValidation": true,
					"authenticationType": "Anonymous"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/ISO_Publication_RestEndPoint')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"description": "Iso Publication data",
				"annotations": [],
				"type": "RestService",
				"typeProperties": {
					"url": "[parameters('ISO_Publication_RestEndPoint_properties_typeProperties_url')]",
					"enableServerCertificateValidation": true,
					"authenticationType": "Anonymous"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/Iso')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"description": "Iso api with user name and password",
				"annotations": [],
				"type": "RestService",
				"typeProperties": {
					"url": "[parameters('Iso_properties_typeProperties_url')]",
					"enableServerCertificateValidation": false,
					"authenticationType": "Anonymous"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/PublicationDataLink')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "RestService",
				"typeProperties": {
					"url": "[parameters('PublicationDataLink_properties_typeProperties_url')]",
					"enableServerCertificateValidation": true,
					"authenticationType": "Anonymous"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/RestService1')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "RestService",
				"typeProperties": {
					"url": "[parameters('RestService1_properties_typeProperties_url')]",
					"enableServerCertificateValidation": true,
					"authenticationType": "Anonymous"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/SourcePathofDataLakeForZip')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureBlobFS",
				"typeProperties": {
					"url": "[parameters('SourcePathofDataLakeForZip_properties_typeProperties_url')]",
					"accountKey": {
						"type": "SecureString",
						"value": "[parameters('SourcePathofDataLakeForZip_accountKey')]"
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/TestingRest')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "RestService",
				"typeProperties": {
					"url": "[parameters('TestingRest_properties_typeProperties_url')]",
					"enableServerCertificateValidation": true,
					"authenticationType": "Anonymous"
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/ZipContentFiles')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureFunction",
				"typeProperties": {
					"functionAppUrl": "[parameters('ZipContentFiles_properties_typeProperties_functionAppUrl')]",
					"functionKey": {
						"type": "SecureString",
						"value": "[parameters('ZipContentFiles_functionKey')]"
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/ZipFiles')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureFunction",
				"typeProperties": {
					"functionAppUrl": "[parameters('ZipFiles_properties_typeProperties_functionAppUrl')]",
					"functionKey": {
						"type": "SecureString",
						"value": "[parameters('ZipFiles_functionKey')]"
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/cenelec_content_download')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "AzureFunction",
				"typeProperties": {
					"functionAppUrl": "[parameters('cenelec_content_download_properties_typeProperties_functionAppUrl')]",
					"functionKey": {
						"type": "SecureString",
						"value": "[parameters('cenelec_content_download_functionKey')]"
					}
				}
			},
			"dependsOn": []
		},
		{
			"name": "[concat(parameters('factoryName'), '/downloadPdf')]",
			"type": "Microsoft.DataFactory/factories/linkedServices",
			"apiVersion": "2018-06-01",
			"properties": {
				"annotations": [],
				"type": "RestService",
				"typeProperties": {
					"url": "[parameters('downloadPdf_properties_typeProperties_url')]",
					"enableServerCertificateValidation": true,
					"authenticationType": "Anonymous"
				}
			},
			"dependsOn": []
		}
	]
}